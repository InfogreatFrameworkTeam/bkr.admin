<!-- top navigation -->
<nav class="nav_menu top_nav" ng-controller="MainHeaderCtrl as vm">
    <ul class="nav navbar-nav navbar-right">
        <li class="" uib-dropdown>
            <a href id="user-profile-dropdown" class="user-profile dropdown-toggle" uib-dropdown-toggle>
                <img src="images/tmp/img.jpg" alt="">
                <span ng-bind="vm.currentUser.name"></span>
                <span class=" fa fa-angle-down"></span>
            </a>
            <ul class="dropdown-menu dropdown-usermenu pull-right" uib-dropdown-menu aria-labelledby="user-profile-dropdown">
                <li><a href="javascript:;"> 我的资料</a></li>
                <li>
                    <a ng-click="vm.changePassword()">修改密码</a>
                </li>
                <li>
                    <a href="javascript:;">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>设置</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/" target="_blank">帮助</a>
                </li>
                <li>
                    <a href ng-click="vm.logout()"><i class="fa fa-sign-out pull-right"></i> 退出</a>
                </li>
            </ul>
        </li>
        <li role="presentation" class="dropdown" uib-dropdown>
            <a href id="user-message-dropdown" class="dropdown-toggle info-number" uib-dropdown-toggle>
                <i class="fa fa-envelope-o"></i>
                <span class="badge bg-green" ng-bind="vm.unreadMessagesCount" ng-show="vm.unreadMessagesCount > 0"></span>
            </a>
            <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu" uib-dropdown-menu aria-labelledby="user-message-dropdown">
                <li ng-repeat="item in vm.userMessages">
                    <a>
                        <span class="image"><img ng-src="{{item.userPhoto}}" alt="Profile Image" /></span>
                        <span>
                                    <span ng-bind="item.userName"></span>
                        <span class="time" ng-bind="item.sendTime"></span>
                        </span>
                        <span class="message" ng-bind="item.message"></span>
                    </a>
                </li>
                <li ng-show="vm.hasMoreUserMessages">
                    <div class="text-center">
                        <a>
                            <strong>查看所有消息</strong>
                            <i class="fa fa-angle-right"></i>
                        </a>
                    </div>
                </li>
            </ul>
        </li>
    </ul>
</nav>
<div class="clearfix"></div>
<!-- /top navigation -->
